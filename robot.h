#ifndef robot_h
#define robot_h

#include <Arduboy2.h>
//#include <stdlib.h>

//#include "globals.h"
#include "weapon.h"
//#include "function.h"
//#include "monster.h"

/*
#define BETWEEN_ROBOTS 8 //Frame difference between Robot1 & Robot2

#define WEAPON_MINE 0
#define WEAPON_PUNCH 1

#define BOMB_RANGE_MAX 3

const char* weaponList[] PROGMEM = {
  "Mine",
  "Fist"
};
*/

const unsigned char robots_bitmap[] PROGMEM = {
// width, height,
8, 8,
//0
//R1_0-3
/*
0x00,0x00,0x7c,0x2a,0x29,0x62,0x7c,0x00,
0x00,0x00,0x7c,0x2a,0x69,0x2a,0x7c,0x00,
0x00,0x00,0x7c,0x62,0x29,0x2a,0x7c,0x00,
0x00,0x00,0x7c,0x22,0x61,0x22,0x7c,0x00,
*/
// BoW
//R_1_0-3
0xff,0xff,0x83,0xd5,0xd6,0x9d,0x83,0xff,
0xff,0xff,0x83,0xd5,0x96,0xd5,0x83,0xff,
0xff,0xff,0x83,0x9d,0xd6,0xd5,0x83,0xff,
0xff,0xff,0x83,0xdd,0x9e,0xdd,0x83,0xff,
//exploding
0xff,0xd5,0xae,0xdb,0x9a,0xdf,0xae,0xd5,

//0
//R2_0-3
/*
0x00,0x00,0x7e,0x2a,0x62,0x22,0x7e,0x00,
0x00,0x00,0x7e,0x62,0x2a,0x62,0x7e,0x00,
0x00,0x00,0x7e,0x22,0x62,0x2a,0x7e,0x00,
0x00,0x00,0x7e,0x62,0x22,0x62,0x7e,0x00,
*/
//R_2_0-3
0xff,0xff,0x81,0xd5,0x9d,0xdd,0x81,0xff,
0xff,0xff,0x81,0x9d,0xd5,0x9d,0x81,0xff,
0xff,0xff,0x81,0xdd,0x9d,0xd5,0x81,0xff,
0xff,0xff,0x81,0x9d,0xdd,0x9d,0x81,0xff,
//exploding
0xff,0xd4,0xbe,0x9b,0xde,0x97,0xbe,0xd4,
//blasted
0xbf,0x9f,0xcf,0x97,0x87,0xcf,0x9f,0xbf
};

class Player {
  public :
    uint8_t x,y; //could this be uint8_t ?
    uint8_t weapons; //0 means normal Bombs
    uint8_t range;
    uint8_t dir; //if dir==DEAD, direction heaven
    uint8_t lives=3;
    int score;
    Bomb bombs[3];
    //Player(){}
    Player(uint8_t X, uint8_t Y);
    void draw(bool player1);
    void move(uint8_t direction, uint8_t distance);
    void drawBombs(void);
    bool placeBomb(void);
    void init(bool player1);
};

extern class Player p1;
extern class Player p2;


void controlRobot(void);
void checkMoving(void);
void explode(uint8_t ind, uint8_t range);
bool checkBombs(void);
#endif
